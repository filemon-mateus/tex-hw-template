\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{preamble}[
  2021/11/21
  A Base LaTeX Template for Mathematically Inclined Assignments.
  Provided by Filemon Mateus <mateus@utah.edu>
]
% default base packages
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{bm}
\RequirePackage{caption}
\RequirePackage{enumitem}
\RequirePackage{fancyhdr}
\RequirePackage{float}
\RequirePackage{footmisc}
\RequirePackage{geometry}
\RequirePackage{graphicx}
\RequirePackage{url}
\RequirePackage{hyperref}
\RequirePackage{lastpage}
\RequirePackage{mdframed}
\RequirePackage{xcolor}
\RequirePackage{thmtools}
\RequirePackage{subcaption}

% useful generic settings
\geometry{
  margin={1in},
}
\captionsetup{
  labelfont={bf},
  labelsep={period},
  justification={centering},
}
\hypersetup{
  colorlinks,
  linkcolor={purple!80!black},
  citecolor={green!80!black},
  urlcolor={blue!80!black}
}

% relax a few already declared environments for customization
\let\bf\relax
\let\it\relax
\let\sc\relax
\let\sf\relax
\let\proof\relax
\let\endproof\relax
\let\P\relax
\let\itemautorefname\relax

% useful operators
\DeclareMathOperator*{\E}{\mathbb{E}}
\DeclareMathOperator*{\P}{\mathbb{P}}
\DeclareMathOperator*{\N}{\mathbb{N}}
\DeclareMathOperator*{\Q}{\mathbb{Q}}
\DeclareMathOperator*{\R}{\mathbb{R}}
\DeclareMathOperator*{\I}{\mathbb{I}}

% useful stylistic colors
\definecolor{claimbg}{HTML}{fafafa}
\definecolor{claimfg}{HTML}{000000}
\definecolor{lemmabg}{HTML}{fffaf8}
\definecolor{lemmafg}{HTML}{983b0f}
\definecolor{remarkbg}{HTML}{fafafa}
\definecolor{remarkfg}{HTML}{000000}
\definecolor{theorembg}{HTML}{f2fff2}
\definecolor{theoremfg}{HTML}{008000}
\definecolor{corollarybg}{HTML}{f2fbfc}
\definecolor{corollaryfg}{HTML}{191971}
\definecolor{definitionbg}{HTML}{f2fff2}
\definecolor{definitionfg}{HTML}{008000}
\definecolor{propositionbg}{HTML}{fcf3f6}
\definecolor{propositionfg}{HTML}{60001a}

% generic box for proofs, remarks, claims, lemmas, and more
\mdfdefinestyle{genericbox}{
  innertopmargin=8,
  innerbottommargin=8,
  linewidth=2,
  topline=false,
  rightline=false,
  bottomline=false,
}
\mdfdefinestyle{claimbox}{
  style=genericbox,
  linecolor=claimfg,
  backgroundcolor=claimbg,
}
\mdfdefinestyle{remarkbox}{
  style=genericbox,
  linecolor=remarkfg,
  backgroundcolor=remarkbg,
}
\mdfdefinestyle{theorembox}{
  style=genericbox,
  linecolor=theoremfg,
  backgroundcolor=theorembg,
}
\mdfdefinestyle{lemmabox}{
  style=genericbox,
  linecolor=lemmafg,
  backgroundcolor=lemmabg,
}
\mdfdefinestyle{corollarybox}{
  style=genericbox,
  linecolor=corollaryfg,
  backgroundcolor=corollarybg,
}
\mdfdefinestyle{definitionbox}{
  style=genericbox,
  linecolor=definitionfg,
  backgroundcolor=definitionbg,
}
\mdfdefinestyle{propositionbox}{
  style=genericbox,
  linecolor=propositionfg,
  backgroundcolor=propositionbg,
}

% theorem environment definitions
\declaretheoremstyle[
  headfont=\bf\sf\color{claimfg},
  bodyfont=\normalfont,
  mdframed={style=claimbox},
  headpunct={~~\textemdash~~},
  postheadspace=0em,
]{claim}
\declaretheoremstyle[
  headfont=\bf\sf\color{lemmafg},
  bodyfont=\normalfont,
  mdframed={style=lemmabox},
  headpunct={~~\textemdash~~},
  postheadspace=0em,
]{lemma}
\declaretheoremstyle[
  headfont=\bf\sf\color{remarkfg},
  bodyfont=\normalfont,
  mdframed={style=remarkbox},
  headpunct={~~\textemdash~~},
  postheadspace=0em,
]{remark}
\declaretheoremstyle[
  headfont=\bf\sf\color{theoremfg},
  bodyfont=\normalfont,
  mdframed={style=theorembox},
  headpunct={~~\textemdash~~},
  postheadspace=0em,
]{theorem}
\declaretheoremstyle[
  headfont=\bf\sf\color{corollaryfg},
  bodyfont=\normalfont,
  mdframed={style=corollarybox},
  headpunct={~~\textemdash~~},
  postheadspace=0em,
]{corollary}
\declaretheoremstyle[
  headfont=\bf\sf\color{definitionfg},
  bodyfont=\normalfont,
  mdframed={style=definitionbox},
  headpunct={~~\textemdash~~},
  postheadspace=0em,
]{definition}
\declaretheoremstyle[
  headfont=\bf\sf\color{propositionfg},
  bodyfont=\normalfont,
  mdframed={style=propositionbox},
  headpunct={~~\textemdash~~},
  postheadspace=0em,
]{proposition}
\declaretheoremstyle[
  headfont=\itshape,
  bodyfont=\normalfont,
  postheadspace=0.5em,
  qed=$\square$,
]{proof}

% enumerate proofs, remarks, lemmas, and claims by default
\declaretheorem[style=proof,name=Proof,numbered=yes]{proof}
\declaretheorem[style=claim,name=Claim,numbered=yes]{claim}
\declaretheorem[style=lemma,name=Lemma,numbered=yes]{lemma}
\declaretheorem[style=remark,name=Remark,numbered=yes]{remark}
\declaretheorem[style=theorem,name=Theorem,numbered=yes]{theorem}
\declaretheorem[style=corollary,name=Corollary,numbered=yes]{corollary}
\declaretheorem[style=definition,name=Definition,numbered=yes]{definition}
\declaretheorem[style=proposition,name=Proposition,numbered=yes]{proposition}

% unenumerate proofs, remarks, lemmas, and claims on "*" envs
\declaretheorem[style=proof,name=Proof,numbered=no]{proof*}
\declaretheorem[style=claim,name=Claim,numbered=no]{claim*}
\declaretheorem[style=lemma,name=Lemma,numbered=no]{lemma*}
\declaretheorem[style=remark,name=Remark,numbered=no]{remark*}
\declaretheorem[style=theorem,name=Theorem,numbered=no]{theorem*}
\declaretheorem[style=corollary,name=Corollary,numbered=no]{corollary*}
\declaretheorem[style=definition,name=Definition,numbered=no]{definition*}
\declaretheorem[style=proposition,name=Proposition,numbered=no]{proposition*}

% personal custom header
\newcommand{\header}[5]{
  \pagestyle{fancy}
  \lhead{#1}
  \chead{#2~~\textemdash~~#3~~\textemdash~~#4}
  \rhead{#5}
  \cfoot{{\thepage}~{/}~{\pageref{LastPage}}}
}

% load in algopseudocode and custom latex macros
\input{misc-file/algo}
\input{misc-file/macros}
